---
title: 代理模式
date: 2020-05-28 17:07:01
categories: 设计模式
tags:
	- 代理模式
	- 结构型模式
---



# 简介

代理模式给某一个对象提供一个代理对象，并由代理对象控制对原对象的引用。它包括**抽象主题，委托类，代理类**三个核心角色。



# 结构

![image-20200528210755896](https://yuanchangjian.github.io/cloudImage/images/20200608115447.png)

**Subject**

抽象主题

**Proxy**
代理类

**RealSubject**

委托类



<!-- more -->

# 示例

```
public interface Subject {
    void doSomething();
}

public class RealSubject implements Subject {
    @Override
    public void doSomething() {
        System.out.println("This is real doSomeThing");
    }
}

public class ProxySubject implements Subject {
    private Subject mSubject;
    // 代理类持有委托类的引用
    public ProxySubject(Subject realSubject) {
        mSubject = realSubject;
    }

    @Override
    public void doSomething() {
    	// ...在之前做点什么
        mSubject.doSomething();
        // ...在之后做点什么
    }
}

public class Client {
    public static void main(String[] args) {
        // 创建委托类
        Subject mRealSubject = new RealSubject();
        // 创建代理类
        ProxySubject mProxy = new ProxySubject(mRealSubject);
        // 由代理类去做具体的操作
        mProxy.doSomething();
    }
}
```



# 总结

代理模式使委托类只需关注内部代码逻辑，减少了这些和委托类不相关的程序控制的代码。



# 参考

* [维基百科-代理模式](https://zh.wikipedia.org/wiki/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F)